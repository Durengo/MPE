\doxysection{Memory\+Sink.\+h}
\hypertarget{_memory_sink_8h_source}{}\label{_memory_sink_8h_source}\index{D:/WORK/GIT/MPE/MPE/Log/CustomSinks/MemorySink.h@{D:/WORK/GIT/MPE/MPE/Log/CustomSinks/MemorySink.h}}
\mbox{\hyperlink{_memory_sink_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{___c_o_r_e_8h}{MPE/Core/\_CORE.h}}"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}spdlog/sinks/base\_sink.h"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <mutex>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <sstream>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_m_p_e}{MPE}}}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Mutex>}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_m_p_e_1_1_memory_sink}{MemorySink}}\ :\ \textcolor{keyword}{public}\ spdlog::sinks::base\_sink<Mutex>}
\DoxyCodeLine{00027\ \ \ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_m_p_e_1_1_memory_sink_a9b9940f6878402fd1d4aa3022442e943}{sink\_it\_}}(\textcolor{keyword}{const}\ spdlog::details::log\_msg\ \&msg)\textcolor{keyword}{\ override}}
\DoxyCodeLine{00035\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ spdlog::memory\_buf\_t\ formatted;}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ spdlog::sinks::base\_sink<Mutex>::formatter\_-\/>format(msg,\ formatted);}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_m_p_e_1_1_memory_sink_a2b8218213ff1d260369c471ff0ac8aae}{stream}}\ <<\ fmt::to\_string(formatted);}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_m_p_e_1_1_memory_sink_ab0d61f9597cb9bc3212bf58ac572b21c}{flush\_}}()\textcolor{keyword}{\ override}}
\DoxyCodeLine{00042\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_m_p_e_1_1_memory_sink_a2b8218213ff1d260369c471ff0ac8aae}{stream}}.flush();}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{class_m_p_e_1_1_memory_sink_a56bdbb0269c6c09a53807f44700dd599}{get\_contents\_and\_clear}}()}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ contents\ =\ this-\/>\mbox{\hyperlink{class_m_p_e_1_1_memory_sink_ab746c48a1a9dd505d0332e53af5fa42d}{get\_contents}}();}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{class_m_p_e_1_1_memory_sink_a563e0f426a0da5dbf492b2010fdd38a1}{clear}}();}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ contents;}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{class_m_p_e_1_1_memory_sink_ab746c48a1a9dd505d0332e53af5fa42d}{get\_contents}}()}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_m_p_e_1_1_memory_sink_a2b8218213ff1d260369c471ff0ac8aae}{stream}}.str();}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_m_p_e_1_1_memory_sink_a563e0f426a0da5dbf492b2010fdd38a1}{clear}}()}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_m_p_e_1_1_memory_sink_a2b8218213ff1d260369c471ff0ac8aae}{stream}}.str(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_m_p_e_1_1_memory_sink_a2b8218213ff1d260369c471ff0ac8aae}{stream}}.clear();}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ std::stringstream\ \mbox{\hyperlink{class_m_p_e_1_1_memory_sink_a2b8218213ff1d260369c471ff0ac8aae}{stream}};}
\DoxyCodeLine{00067\ \ \ \ \ \};}
\DoxyCodeLine{00068\ \}}

\end{DoxyCode}
